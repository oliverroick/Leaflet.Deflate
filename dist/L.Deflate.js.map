{"version":3,"sources":["src/L.Deflate.js"],"names":["L","Layer","include","_originalRemove","prototype","remove","this","marker","Map","_originalRemoveLayer","removeLayer","layer","Deflate","FeatureGroup","extend","options","minSize","markerOptions","markerType","greedyCollapse","initialize","Util","setOptions","_layers","_needsPrepping","_featureLayer","_getFeatureLayer","markerLayer","featureGroup","_getBounds","path","Circle","addTo","_map","bounds","getBounds","_isCollapsed","zoom","computedBounds","northEastPixels","project","getNorthEast","southWestPixels","getSouthWest","width","Math","abs","x","height","y","_getZoomThreshold","zoomThreshold","getZoom","_bindInfoTools","parentLayer","_popupHandlersAdded","bindPopup","_popup","_content","_tooltipHandlersAdded","bindTooltip","_tooltip","_bindEvents","events","_events","eventKeys","Object","getOwnPropertyNames","eventParents","_eventParents","eventParentKeys","i","lenI","length","listeners","j","lenJ","on","fn","_makeMarker","allowedMarkerTypes","circleMarker","indexOf","Error","getCenter","markerFeature","feature","toGeoJSON","undefined","properties","prepLayer","zoomState","_addToMap","layerToAdd","addLayer","layers","len","push","getLayerId","layerId","layerIndex","splice","clearLayers","_switchDisplay","showMarker","_deflate","endZoom","eachLayer","intersects","onAdd","map","onRemove","off","deflate"],"mappings":"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"}